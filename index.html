<!DOCTYPE html>
<html lang="en">
    <head>
        <title>College Mail Analyzer</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" href="vendored/material.icons.css">
        <link rel="stylesheet" href="vendored/material.amber-blue.min.css">
        <link rel="stylesheet" href="styles/index.css">

        <script src="vendored/material.min.js"></script>
    </head>
    <body>
        <div class="mdl-layout mdl-js-layout">
            <div class="mdl-layout--fixed-header">
                <header class="mdl-layout__header mdl-layout__header--transparent">
                    <div class="mdl-layout__header-row">
                        <span class="mdl-layout-title">College Mail Analyzer</span>
                        <div class="mdl-layout-spacer"></div>
                        <nav class="mdl-navigation">
                            <button id="authorize-button" class="mdl-button mdl-js-button mdl-button--raised" style="display: none;">Authorize</button>
                            <button id="signout-button" class="mdl-button mdl-js-button mdl-button--raised" style="display: none;">Sign Out</button>
                        </nav>
                    </div>
                </header>
            </div>
            <main class="mdl-layout__content">
                <div class="mdl-layout-spacer"></div>

                <pre id="error-pre"></pre>

                <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect" id="analysis-tabs" style="display: none;">
                    <div class="mdl-tabs__tab-bar">
                        <a href="#summary-panel" class="mdl-tabs__tab is-active">Summary</a>
                        <a href="#schools-panel" class="mdl-tabs__tab">Schools</a>
                    </div>
                    <div class="mdl-tabs__panel is-active" id="summary-panel">
                        <div id="summary-div">
                            <div class="mdl-card mdl-shadow--2dp summary-card">
                                <div class="mdl-card__title" style="background: url('/images/gmail.png') center; background-size: cover; height: 100%;">
                                    <h2 class="mdl-card__title-text"><i class="material-icons">mail</i><span id="total-emails">0</span><span style="white-space: pre;"> College Emails</span></h2>
                                </div>
                            </div>
                            <div class="mdl-card mdl-shadow--2dp summary-card">
                                <svg id="school-type-pie"></svg>
                                <div class="mdl-card__title">
                                    <h2 class="mdl-card__title-text"><i class="material-icons">donut_large</i>Emails By School Type</h2>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mdl-tabs__panel" id="schools-panel">
                        <div id="schools-div"></div>
                    </div>
                </div>

                <div id="loader" style="display: none;">
                    <div class="mdl-spinner mdl-js-spinner is-active"></div>
                    <span class="mdl-chip" style="align-self: center;">
                        <span id="loading-span" class="mdl-chip__text">Loaded <span class="loading-count-up">0</span> Messages and <span class="loading-count-up">0</span> Colleges...</span>
                    </span>
                </div>

                <div class="mdl-layout-spacer" style="flex-grow: 2;"></div>

                <footer class="mdl-mini-footer">
                    <div class="mdl-mini-footer__left-section">
                        <div class="mdl-logo">College Mail Analyzer</div>
                        <ul class="mdl-mini-footer__link-list">
                            <li><a href="/privacy-policy" target="_blank" rel="noopener">Privacy Policy</a></li>
                            <li><a href="https://github.com/kajchang/College-Mail-Analyzer" target="_blank" rel="noopener">Source</a></li>
                            <li><a href="https://github.com/kajchang/USNews-College-Scraper" target="_blank" rel="noopener">College Data</a></li>
                        </ul>
                    </div>
                </footer>
            </main>
        </div>

        <script src="https://d3js.org/d3.v5.min.js"></script>
        <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
        <script src="https://d3js.org/d3-path.v1.min.js"></script>
        <script src="https://d3js.org/d3-shape.v1.min.js"></script>
        <script src="scripts/oauth.js"></script>
        <script src="scripts/loader.js"></script>
        <script src="scripts/dom.js"></script>
        <script async defer src="vendored/gapi.js"
                onload="this.onload=function(){};handleClientLoad()"
                onreadystatechange="if (this.readyState === 'complete') this.onload()"></script>
    </body>
</html>
